import { ReactNode } from "react"
import Link from "next/link"
import { InfoIcon } from "lucide-react"
import { zeroAddress } from "viem"

import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import {
  HoverCard,
  HoverCardContent,
  HoverCardTrigger,
} from "@/components/ui/hover-card"

export default function IndexPage() {
  return (
    <>
      <header>
        <Title>Ethereum Bolivia</Title>
        <p className="text-muted-foreground">123 members</p>
      </header>
      <Card>
        <CardHeader>
          <CardTitle className="flex justify-between">
            <span>Your PP</span>
            <span className="text-muted-foreground">
              <HoverCard>
                <HoverCardTrigger>
                  <InfoIcon size="1em" />
                </HoverCardTrigger>
                <HoverCardContent
                  align="end"
                  className="text-sm font-normal leading-normal"
                >
                  You receive ponzi points (PP) by executing trades or vote on
                  disputes.
                  <br />
                  You will also receive 0.5 PP when people you invited do
                  something!
                </HoverCardContent>
              </HoverCard>
            </span>
          </CardTitle>
        </CardHeader>
        <CardContent>
          <span className="text-4xl font-bold">69</span>
          <span className="text-lg font-semibold">PP</span>
        </CardContent>
      </Card>
      <header className="rounded bg-[#D34B45] p-2 text-center text-2xl font-semibold uppercase text-white">
        <span className="font-[sans-serif]">⚠️</span>Trade Offers
        <span className="font-[sans-serif]">⚠️</span>
      </header>
      <div>
        <div className="mb-2 text-center text-xs">
          {shortAddress(zeroAddress)}
        </div>

        <button className="flex w-full justify-around text-center">
          <div className="flex-1">
            <div>i receive:</div>
            <div className="text-xl font-semibold">690 BOB</div>
          </div>
          <div className="text-muted-foreground opacity-50">
            <svg
              className="h-12 w-12"
              viewBox="0 0 250 250"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M117.915 0.497006C110.111 1.634 101.025 5.37789 94.9995 9.93932C80.9906 20.5456 72.9529 38.7685 75.0748 55.1156C75.9663 61.9847 77.475 66.923 80.3733 72.4599C88.2177 87.4453 101.234 96.8545 117.613 99.3817C123.319 100.262 132.346 99.6809 138.313 98.0495C147.465 95.5472 157.135 89.3253 163.374 81.9245C166.796 77.8648 172.071 67.7033 173.295 62.8131C175.348 54.6113 175.369 46.2728 173.358 37.4327C172.302 32.7853 167.555 23.315 164.147 19.0539C153.02 5.14231 135.181 -2.01825 117.915 0.497006ZM78.7412 98.5802C78.3136 98.6692 74.5819 99.1166 70.4486 99.5743C51.5713 101.663 47.2441 103.382 40.7385 111.37C37.975 114.764 34.4475 120.881 32.4526 125.739C30.4634 130.583 28.6919 136.491 29.1044 136.903C29.2496 137.048 32.407 138.083 36.1206 139.202C54.07 144.613 64.8966 151.037 73.5583 161.415L75.3723 163.588L78.2877 162.576C82.956 160.956 86.7737 160.337 92.1323 160.331C107.028 160.315 117.637 169.331 120.836 184.724C123.749 198.739 117.933 215.756 106.534 226.573C97.8496 234.814 90.9143 236.253 61.3743 235.944L42.9791 235.752V242.876V250H124.869H206.759V243.01V236.021H187.932C162.044 236.021 155.362 235.022 147.506 229.978C139.717 224.978 133.738 216.44 129.984 204.955C126.765 195.107 127.463 184.631 131.951 175.443C135.518 168.14 142.978 162.5 151.157 160.922C156.457 159.899 165.773 160.502 170.702 162.185C174.484 163.478 174.851 163.52 175.303 162.715C176.571 160.45 181.672 155.319 186.028 151.927C192.008 147.269 204.751 141.543 215.115 138.855C219.431 137.736 220.753 137.192 220.753 136.535C220.753 135.134 217.181 125.305 215.263 121.428C210.916 112.642 206.004 106.908 200.234 103.885C196.54 101.949 193.961 101.337 185.509 100.389C182.801 100.086 177.842 99.4573 174.488 98.9928L168.39 98.1484L165.787 100.342C161.991 103.539 155.164 107.69 150.195 109.82C144.138 112.418 139.131 113.62 131.225 114.374C113.407 116.074 97.3406 111.312 84.1926 100.434C81.8131 98.4647 80.8538 98.1385 78.7412 98.5802ZM14.0014 150.37C9.52028 152.004 6.52663 154.666 3.71749 159.513C0.0842624 165.783 0.0951458 174.169 3.74444 179.94C4.98678 181.905 6.12029 182.611 15.8839 187.503C24.6466 191.894 26.627 193.082 26.514 193.879C26.4378 194.418 26.1175 196.373 25.8034 198.224C25.0659 202.565 25.5137 208.39 26.8105 211.318C29.1926 216.697 33.583 219.701 40.2291 220.5C46.9347 221.305 77.7829 221.713 84.3072 221.083C90.8604 220.45 92.2769 219.885 95.9977 216.42C103.756 209.195 108.417 198.021 107.563 188.696C106.813 180.506 102.092 175.546 94.1609 174.615C90.7236 174.211 85.1872 175.141 83.1747 176.461C81.0855 177.829 78.3914 181.89 77.6466 184.794C77.0008 187.311 76.9728 187.337 75.1464 187.125C74.1305 187.007 70.1505 186.765 66.3022 186.588C62.4539 186.411 56.973 186.006 54.1224 185.688C51.2718 185.371 45.9075 185.054 42.2017 184.985L35.4639 184.859L28.2078 181.112C16.8971 175.272 14.0491 173.503 13.1468 171.759C11.1938 167.987 15.4148 161.989 20.0266 161.984C20.9434 161.983 25.4914 163.595 30.1333 165.568C34.7756 167.541 39.2417 169.321 40.0585 169.523C40.9521 169.744 41.941 170.564 42.5427 171.583C45.1342 175.97 52.5577 176.043 56.2018 171.717C58.0262 169.552 58.0132 165.787 56.1738 163.603C54.509 161.627 52.242 160.223 48.9395 159.122C47.5142 158.648 43.6658 157.203 40.3877 155.913C24.7933 149.774 18.9822 148.553 14.0014 150.37ZM225.159 150.325C223.733 150.71 217.147 153.025 210.523 155.468C203.898 157.911 198.313 159.91 198.111 159.91C196.955 159.91 193.681 162.941 192.741 164.88C188.925 172.754 201.338 178.872 206.852 171.835C207.887 170.514 209.847 169.484 216.397 166.818C228.885 161.736 229.893 161.418 231.528 162.037C234.756 163.258 237.56 167.474 237.002 170.264C236.469 172.928 234.226 174.566 223.878 179.85L214.012 184.888L206.887 185.033C202.968 185.113 195.214 185.549 189.656 186.002C176.12 187.106 172.034 187.102 172.034 185.988C172.034 181.75 167.808 176.572 163.258 175.235C155.13 172.847 146.868 175.863 143.592 182.415C142.071 185.458 141.548 192.051 142.453 196.779C143.815 203.9 150.581 214.826 155.752 218.255C157.986 219.737 159.441 220.231 163.546 220.901C168.028 221.633 171.02 221.658 190.312 221.124C211.984 220.525 212.038 220.521 214.967 219.182C220.135 216.821 222.903 213.345 223.876 207.998C224.487 204.639 224.203 198.604 223.288 195.465C222.65 193.276 222.959 193.047 234.236 187.362C247.378 180.737 249 178.827 249 169.98C249 165.007 248.913 164.6 247.052 160.837C242.577 151.792 234.344 147.839 225.159 150.325ZM89.2335 187.74C88.5784 188.319 87.8937 190.14 87.3366 192.788C85.805 200.068 84.4108 201.02 76.369 200.277C73.5407 200.016 70.4097 199.683 69.412 199.538C68.4143 199.393 64.2457 199.024 60.1486 198.717C56.0515 198.41 52.0041 198.071 51.1541 197.964C39.7771 196.525 37.8444 197.263 37.8128 203.054C37.7983 205.709 37.9776 206.252 39.3112 207.584L40.8261 209.097H63.9507C85.7599 209.097 87.1863 209.04 89.0329 208.1C91.515 206.835 91.7809 206.482 93.4773 202.192C95.0871 198.122 96.3803 191.97 95.977 190.303C95.2245 187.189 91.4705 185.763 89.2335 187.74ZM155.574 187.369C152.79 188.487 152.856 192.258 155.814 200.938C157.649 206.323 159.085 207.93 162.645 208.584C164.203 208.87 175.038 209.097 187.158 209.097H208.88L210.117 207.861C212.539 205.441 212.367 200.01 209.809 198.101C208.502 197.127 208.244 197.123 199.709 197.933C188.333 199.014 187.034 199.13 179.031 199.773C175.325 200.071 171.332 200.449 170.159 200.612C165.982 201.195 163.539 198.974 162.41 193.563C161.505 189.223 160.999 188.102 159.617 187.363C158.433 186.73 157.161 186.732 155.574 187.369Z"
                fill="currentColor"
              />
            </svg>
          </div>

          <div className="flex-1">
            <div>you receive:</div>
            <div className="text-xl font-semibold">100 USDC</div>
          </div>
        </button>
      </div>
      <div className="space-y-2">
        <Button asChild className="w-full">
          <Link href="/request">Create Trade Offer</Link>
        </Button>
        <Button variant="outline" className="w-full">
          Invite User
        </Button>
        <Button variant="ghost" className="w-full">
          Found a bad actor?&nbsp;<span className="underline">vote kick</span>.
        </Button>
      </div>
    </>
  )
}

export function shortAddress(address: string) {
  return address.slice(0, 6) + "…" + address.slice(-4)
}

export function Title({ children }: { children: ReactNode }) {
  return (
    <h1 className="text-2xl font-extrabold tracking-tight lg:text-4xl">
      {children}
    </h1>
  )
}
